<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.cafe24.guribyn.employee.EmployeeMapper">
	<resultMap type="com.cafe24.guribyn.employee.Employee" id="resultEmployee">
		<result column="e_id" property="eId" />
		<result column="e_nation" property="eNation" />
		<result column="e_gender" property="eGender" />
		<result column="e_position" property="ePosition" />
		<result column="e_department" property="eDepartment" />
		<result column="e_language" property="eLanguage" />
		<result column="m_id" property="mId" />
		<result column="e_name" property="eName" />
		<result column="e_pw" property="ePw" />
		<result column="e_birthdate" property="eBirthdate" />
		<result column="e_email" property="eEmail" />
		<result column="e_address" property="eAddress" />
		<result column="e_phone" property="ePhone" />
		<result column="e_memo" property="eMemo" />
		<result column="e_date" property="eDate" />
	</resultMap>
	
	<select id="employeeMod" resultMap="resultEmployee">
		SELECT e_id
			,e_nation
			,e_department
			,e_position
			,e_language
			,IFNULL(m_id, "")
			,e_gender
			,e_name
			,e_pw
			,e_birthdate
			,e_email
			,e_address
			,e_phone
			,IFNULL(e_memo, "")
			,e_date 
		FROM employee
		WHERE e_id = #{eId}
	</select>
	
	<insert id="employeeAdd" parameterType="com.cafe24.guribyn.employee.Employee">
		INSERT INTO 
			employee(
			e_id
			,e_nation
			,e_gender
			,e_position
			,e_department
			,e_language
			,m_id
			,e_name
			,e_pw
			,e_birthdate
			,e_email
			,e_address
			,e_phone
			,e_memo
			,e_date
			
		) VALUES (
			#{eId}
			,#{eNation}
			,#{eGender}
			,#{ePosition}
			,#{eDepartment}
			,#{eLanguage}
			,#{mId}
			,#{eName}
			,#{ePw}
			,#{eBirthdate}
			,#{eEmail}
			,#{eAddress}
			,#{ePhone}
			,#{eMemo}
			,now()
			)
	</insert>
	
	<update id="employeeModPro" parameterType="com.cafe24.guribyn.employee.Employee">
		UPDATE employee
		SET
				e_nation = #{eNation}
				,e_gender = #{eGender}
				,e_position = #{ePosition}
				,e_department = #{eDepartment}
				,e_language = #{eLanguage}
				,e_name = #{eName}
				,e_pw = #{ePw}
				,e_birthdate = #{eBirthdate}
				,e_email = #{eEmail}
				,e_address = #{eAddress}
				,e_phone = #{ePhone}
				,e_memo = #{eMemo}
		WHERE e_id = #{eId}
	</update>
</mapper>